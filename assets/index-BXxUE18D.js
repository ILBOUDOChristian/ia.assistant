import{r as e,a as t,R as a}from"./vendor-BEmX_Svj.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var r={exports:{}},s={},i=e,o=Symbol.for("react.element"),n=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,c=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function h(e,t,a){var r,s={},i=null,n=null;for(r in void 0!==a&&(i=""+a),void 0!==t.key&&(i=""+t.key),void 0!==t.ref&&(n=t.ref),t)l.call(t,r)&&!d.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:o,type:e,key:i,ref:n,props:s,_owner:c.current}}s.Fragment=n,s.jsx=h,s.jsxs=h,r.exports=s;var p=r.exports,m={},u=t;m.createRoot=u.createRoot,m.hydrateRoot=u.hydrateRoot;const f=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},y=(...e)=>e.filter((e,t,a)=>Boolean(e)&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim(),g=e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var x={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const j=e.forwardRef(({color:t="currentColor",size:a=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:i="",children:o,iconNode:n,...l},c)=>e.createElement("svg",{ref:c,...x,width:a,height:a,stroke:t,strokeWidth:s?24*Number(r)/Number(a):r,className:y("lucide",i),...!o&&!g(l)&&{"aria-hidden":"true"},...l},[...n.map(([t,a])=>e.createElement(t,a)),...Array.isArray(o)?o:[o]])),k=(t,a)=>{const r=e.forwardRef(({className:r,...s},i)=>{return e.createElement(j,{ref:i,iconNode:a,className:y(`lucide-${o=f(t),o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${t}`,r),...s});var o});return r.displayName=f(t),r},v=k("brain",[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]]),N=k("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),w=k("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),b=k("facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),M=k("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),z=k("instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),S=k("linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]),E=k("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),T=k("panels-top-left",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]),C=k("paperclip",[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]]),O=k("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),L=k("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),_=k("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]),I=k("twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),R=k("video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]),A=k("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),P=atob("c2stb3ItdjEtNjQ1MTI5NjgyYzNmMzY3MTg3NWMzZGRiNjNiMmRlNTA1MmQxOTYzOTg3MzIzMjBkMzFkYTBhMDc2N2U3ODE4Nw=="),$=async(e,t)=>{var a,r,s;if(!P)throw new Error("âš ï¸ Erreur de clÃ©.");const i=await fetch("https://openrouter.ai/api/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${P}`,"Content-Type":"application/json","HTTP-Referer":"https://ilboudochristian.github.io/ia.assistant","X-Title":"BrandBrain AI"},body:JSON.stringify({model:"openai/gpt-oss-120b:free",messages:e,stream:!0})});if(!i.ok){const e=await i.json().catch(()=>({}));throw new Error(`âš ï¸ Status System : ${(null==(a=e.error)?void 0:a.message)||i.statusText}`)}const o=i.body.getReader(),n=new TextDecoder("utf-8");let l="";for(;;){const{done:e,value:a}=await o.read();if(e)break;l+=n.decode(a,{stream:!0});const i=l.split("\n");l=i.pop();for(const o of i){const e=o.replace(/^data: /,"").trim();if(e&&"[DONE]"!==e)try{const a=(null==(s=null==(r=JSON.parse(e).choices[0])?void 0:r.delta)?void 0:s.content)||"";a&&t(a)}catch(c){}}}};function D(){const[t,a]=e.useState(""),[r,s]=e.useState("facebook"),[i,o]=e.useState("creative"),[n,l]=e.useState(!1),[c,d]=e.useState(""),[h,m]=e.useState(()=>{const e=localStorage.getItem("brandbrain_history");return e?JSON.parse(e):[]}),[u,f]=e.useState(""),[y,g]=e.useState([]),[x,j]=e.useState(""),k=e.useRef(null),P=t.trim().length>=1||y.length>0,D=[{id:"facebook",name:"Facebook",icon:p.jsx(b,{size:14}),color:"#1877F2"},{id:"instagram",name:"Instagram",icon:p.jsx(z,{size:14}),color:"#E4405F"},{id:"linkedin",name:"LinkedIn",icon:p.jsx(S,{size:14}),color:"#0A66C2"},{id:"twitter",name:"Twitter",icon:p.jsx(I,{size:14}),color:"#1DA1F2"},{id:"tiktok",name:"TikTok",icon:p.jsx(R,{size:14}),color:"#FF0050"}],B=D.find(e=>e.id===r)||D[0];return p.jsxs("section",{className:"chat-form glass fade-in",children:[p.jsxs("header",{className:"chat-header",children:[p.jsx("div",{className:"logo-container",children:p.jsx(v,{className:"brain-icon",size:32})}),p.jsx("h2",{className:"welcome-title",children:"BrandBrain AI"}),p.jsx("div",{className:"social-pill-container",children:D.map(e=>p.jsx("div",{className:"social-dot "+(r===e.id?"active":""),style:{backgroundColor:e.color},children:e.icon},e.id))})]}),p.jsxs("form",{onSubmit:async e=>{e.preventDefault();const r=t.trim();if(P||y.length){l(!0),j(""),d(""),f("");try{if((r.toLowerCase().includes("image")||r.toLowerCase().includes("dessin")||r.toLowerCase().includes("photo")||r.toLowerCase().includes("illustration")||r.toLowerCase().includes("logo"))&&0===y.length){const e=[{role:"system",content:"You are a creative advertising designer. Create a highly detailed image prompt in English for the following topic. Output ONLY the prompt."},{role:"user",content:t}];let a="";if(await $(e,e=>{a+=e}),!a)throw new Error("Impossible de gÃ©nÃ©rer le prompt de l'image.");const r=Math.floor(1e6*Math.random()),s=`https://image.pollinations.ai/prompt/${encodeURIComponent(a.trim())}?width=1024&height=1024&seed=${r}&nologo=true`;f(s),d("Illustration gÃ©nÃ©rÃ©e !")}else{const e={role:"system",content:"Tu es un Expert Marketing. Tu rÃ©diges EXCLUSIVEMENT en TEXTE BRUT. INTERDICTION TOTALE d'utiliser : les Ã©toiles (**), le gras, le markdown, les emojis. Ta rÃ©ponse doit Ãªtre du texte pur."},t=[{type:"text",text:`Plateforme : ${B.name}. Ton : ${i}. Sujet : ${r}.`}];y.forEach(e=>{e.type.startsWith("image/")?t.push({type:"image_url",image_url:{url:e.data}}):"application/pdf"===e.type&&t.push({type:"file_url",file_url:{url:e.data}})});const s=[e,...h.slice(-6),{role:"user",content:t}];let o="";await $(s,e=>{o+=e,d(o.trim())});const n=[...h,{role:"user",content:`Sujet : ${r} (${B.name})`},{role:"assistant",content:o.trim()}].slice(-10);m(n),localStorage.setItem("brandbrain_history",JSON.stringify(n)),a("")}g([])}catch(s){j(s.message??"Erreur API.")}finally{l(!1)}}else j("Veuillez saisir une idÃ©e ou ajouter un fichier pour que je puisse vous aider.")},className:"form",children:[p.jsx("div",{className:"form-group",children:p.jsxs("div",{className:"textarea-container",children:[p.jsx("textarea",{placeholder:"Offre, idÃ©e de campagne ou analyse de document...",rows:3,maxLength:500,value:t,onChange:e=>a(e.target.value),className:`input ${!P&&t&&"input-error"}`,disabled:n}),p.jsxs("div",{className:"input-actions",children:[p.jsx("button",{type:"button",className:"action-btn",onClick:e=>{e.preventDefault(),e.stopPropagation(),k.current&&k.current.click()},title:"Ajouter une image ou un PDF",disabled:n,children:p.jsx(C,{size:18})}),p.jsx("input",{type:"file",ref:k,onChange:e=>{Array.from(e.target.files).forEach(e=>{const t=new FileReader;t.onloadend=()=>{g(a=>[...a,{name:e.name,type:e.type,data:t.result,preview:e.type.startsWith("image/")?t.result:null}])},e.type.startsWith("image/")||"application/pdf"===e.type?t.readAsDataURL(e):j("Seuls les images et les fichiers PDF sont acceptÃ©s.")})},className:"hidden",accept:"image/*,application/pdf",multiple:!0})]})]})}),y.length>0&&p.jsx("div",{className:"file-preview-container",children:y.map((e,t)=>p.jsxs("div",{className:"file-preview-card",children:[e.preview?p.jsx("img",{src:e.preview,alt:"preview",className:"file-thumb"}):p.jsx(M,{size:20,className:"file-icon"}),p.jsx("span",{className:"file-name",children:e.name}),p.jsx("button",{type:"button",onClick:()=>{return e=t,void g(t=>t.filter((t,a)=>a!==e));var e},className:"remove-file",children:p.jsx(A,{size:12})})]},t))}),p.jsxs("div",{className:"grid-2",children:[p.jsxs("div",{className:"form-group",children:[p.jsxs("label",{className:"select-label",children:[p.jsx(T,{size:12})," Plateforme"]}),p.jsx("select",{value:r,onChange:e=>s(e.target.value),className:"select",disabled:n,children:D.map(e=>p.jsx("option",{value:e.id,children:e.name},e.id))})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{className:"select-label",children:"ðŸŽ¨ Ton"}),p.jsxs("select",{value:i,onChange:e=>o(e.target.value),className:"select",disabled:n,children:[p.jsx("option",{value:"crÃ©atif",children:"CrÃ©atif"}),p.jsx("option",{value:"expert",children:"Expert"}),p.jsx("option",{value:"fun",children:"Fun"})]})]})]}),p.jsxs("div",{className:"actions-grid",children:[p.jsxs("button",{type:"submit",className:"btn-primary",disabled:n,children:[!n||c||u?p.jsx(L,{size:18}):p.jsx(E,{className:"animate-spin",size:18}),p.jsx("span",{children:"GÃ©nÃ©rer"})]}),(h.length>0||c||u)&&p.jsx("button",{type:"button",className:"btn-reset",onClick:()=>{m([]),d(""),j(""),f(""),a(""),g([]),localStorage.removeItem("brandbrain_history")},title:"Nouvelle discussion",disabled:n,children:p.jsx(O,{size:18})})]})]}),(n||x||c||u)&&p.jsxs("div",{className:"response-area chatgpt-style fade-in "+(x?"error":"success"),children:[p.jsxs("div",{className:"response-header",children:[!n||c||u?x?p.jsx(N,{size:14}):p.jsx(_,{size:14}):p.jsx(E,{className:"animate-spin",size:14}),p.jsx("span",{children:!n||c||u?x?"Erreur":"Suggestion StratÃ©gique":"RÃ©flexion en cours..."}),!n&&!x&&c&&p.jsx("button",{className:"copy-btn",onClick:()=>navigator.clipboard.writeText(c),children:p.jsx(w,{size:12})})]}),p.jsxs("div",{className:"response-content",children:[x||c||(n&&!u?"Analyse en cours...":""),u&&p.jsxs("div",{className:"generated-image-container",children:[p.jsx("img",{src:u,alt:"Generated Content",className:"generated-image"}),p.jsx("a",{href:u,target:"_blank",rel:"noreferrer",className:"download-link",children:"Ouvrir en HD"})]}),n&&!u&&p.jsx("span",{className:"typing-cursor",children:"|"})]})]}),p.jsx("footer",{className:"footer",children:"Powering By ILBOUDO Christian"})]})}function B(){return p.jsx("div",{className:"app-container",children:p.jsx(D,{})})}m.createRoot(document.getElementById("root")).render(p.jsx(a.StrictMode,{children:p.jsx(B,{})}));
